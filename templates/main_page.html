<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
	<title>Kakao 지도 시작하기</title>
</head>
<body>
	<div>
		<input type="radio" name="chk_info" value="HTML">HTML
		<input type="radio" name="chk_info" value="CSS">CSS
		<input type="radio" name="chk_info" value="웹디자인">웹디자인
	</div>
	<div id="title"></div>
	<div id="content"></div>

	<div id="map" style="width:1000px;height:600px;">메인페이지 입니다.</div>
	<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=055b37171aafd0953d3866b059ec0fe2"></script>
	        <script>
        var container = document.getElementById('map');
        var options = {
            center: new kakao.maps.LatLng(35.1795, 129.0756),
            level: 3
        };

        var map = new kakao.maps.Map(container, options);

        // 마커 생성 및 표시
        var markers = [];

        {% for marker in markers %}
        var markerPosition = new kakao.maps.LatLng({{ marker.lat }}, {{ marker.lng }});
        var marker = new kakao.maps.Marker({
            position: markerPosition,
            clickable: true
        });
        marker.setMap(map);
        markers.push(marker);

        // 마커 클릭 이벤트 핸들러
        kakao.maps.event.addListener(marker, 'click', (function(marker) {
            var title = "{{ marker.title }}";
            var content = "{{ marker.con }}"; // 추가 변수 값

            var titleElement = document.getElementById('title');
            var contentElement = document.getElementById('content');
            return function() {
                titleElement.innerHTML = "<h1>" + title + "</h1>";
                contentElement.innerHTML = "<p>" + content + "</p>";
            };
        })(marker));
        {% endfor %}
    </script>
</body>
</html>